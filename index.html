<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Bootstrap + Font Awesome</title>
        <meta name="description" content="Plantilla">
        <!-- jQuery -->
        <script src="https://code.jquery.com/jquery-3.1.0.js"></script>
        <!-- Bootstrap 3.3.7 -->
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        
        <!-- Font Awesome -->
        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
        <style>
            .btn-label {
                position: relative;
                left: -12px;
                display: inline-block;
                padding: 6px 12px;
                background: rgba(0,0,0,0.15);
                border-radius: 3px 0 0 3px;
            }
            
            .btn-labeled {
                padding-top: 0;
                padding-bottom: 0;
            }
            
            .btn {
                margin-bottom:10px;
            }
        </style>
    </head>
    <body>

        <h3>Plantilla Bootstrap + Font Awesome</h1>
        <h4>(Carga CDN)</h2>
        
        <div class="container">
            <button id="lblbtn1" type="button" class="btn btn-primary btn-sm btn-labeled">
                <span class="btn-label">
                    <i class="fa fa-flag" aria-hidden="true"></i>
                </span>
                Botón 1
            </button>
            
            <button id="lblbtn2" type="button" class="btn btn-primary btn-sm btn-labeled">
                <span class="btn-label">
                    <i class="fa fa-flag" aria-hidden="true"></i>
                </span>
                Botón 2
            </button>
        </div>

        <script type="application/javascript">
            var lblbtnData = {
                msg: "Este es el primer botón"
            };
            
            $('#lblbtn1').bind("click", lblbtnData, lblbtn_firstClickHandler);
            
            
            
            
            
            
            function lblbtn_firstClickHandler (e) {
                console.log(e.currentTarget.id);
                console.log(e);
                
                lblbtn_setIcon (e.currentTarget.id, "fa-cog", false);
                
//                $('#' + e.currentTarget.id + ' i:first-of-type')
//                    .removeClass()
//                    .addClass("fa fa-cog fa-spin disabled");
                
                // if you have defined a function named myFunction 
                // it will run after 3 seconds (3000 milliseconds)
                setTimeout(lblbtn_responseHandler, 3000);


            }
            
            
            
            
            
            function lblbtn_responseHandler (e)
            {
                $('#lblbtn1')
                    .removeClass("btn-primary")
                    .addClass("btn-success");
                $('#' + e.currentTarget.id + ' i:first-of-type')
                    .removeClass()
                    .addClass("fa fa-flag");
                console.log(e);
            }
            
            
            
            function lblbtn_setIcon (button, newIcon, rotate)
            {
                $('#' + button + ' i:first-of-type')
                    .removeClass()
                    .addClass("fa fa-cog fa-spin");
                if (rotate) $('#' + button + ' i:first-of-type')
                    .addClass("fa-spin");
            }
            
        </script>
    </body>
</html>